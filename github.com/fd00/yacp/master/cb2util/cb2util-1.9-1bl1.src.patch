--- origsrc/cb2util-1.9/CMakeLists.txt	2013-07-20 07:00:51.000000000 +0900
+++ src/cb2util-1.9/CMakeLists.txt	2015-04-12 20:47:02.275863200 +0900
@@ -3,7 +3,7 @@ PROJECT("cb2util" C)
 CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
 
 # TODO auto-gen version
-SET(CB2UTIL_VERSION "???")
+SET(CB2UTIL_VERSION "1.9")
 
 IF (MINGW)
 	SET(ZLIB_PATH "$ENV{ZLIB_PATH}")
@@ -13,23 +13,19 @@ ELSE (MINGW)
 	FIND_PACKAGE(ZLIB REQUIRED)
 ENDIF (MINGW)
 
-SET(BIGINT "libbig_int")
-SET(LIBCHEATS "libcheats")
+INCLUDE(FindPkgConfig)
+PKG_CHECK_MODULES(LIBBIG_INT REQUIRED libbig_int)
+PKG_CHECK_MODULES(LIBCHEATS REQUIRED libcheats)
 
 SET(CMAKE_C_FLAGS "-Wall -Werror -O2")
 ADD_DEFINITIONS("-DHAVE_STDINT_H")
 
-ADD_SUBDIRECTORY(${LIBCHEATS})
-
 INCLUDE_DIRECTORIES(
-	${BIGINT}/include
-	${LIBCHEATS}/include
+	${LIBBIG_INT_INCLUDE_DIRS}
+	${LIBCHEATS_INCLUDE_DIRS}
 	${ZLIB_INCLUDE_DIR}
 )
 
-FILE(GLOB BIGINT_SRC ${BIGINT}/src/*.c ${BIGINT}/src/low_level_funcs/*.c)
-ADD_LIBRARY(bigint ${BIGINT_SRC})
-
 FILE(GLOB CB2UTIL_SRC *.c)
 ADD_EXECUTABLE(cb2util ${CB2UTIL_SRC})
 
@@ -38,8 +34,8 @@ SET_SOURCE_FILES_PROPERTIES(cb2util.c
 )
 
 TARGET_LINK_LIBRARIES(cb2util
-	bigint
-	cheats
+	${LIBBIG_INT_LIBRARIES}
+	${LIBCHEATS_LIBRARIES}
 	${ZLIB_LIBRARIES}
 )
 
