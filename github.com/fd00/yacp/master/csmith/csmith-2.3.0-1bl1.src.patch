--- origsrc/csmith-2.3.0/Makefile.am	2017-06-22 05:50:24.000000000 +0900
+++ src/csmith-2.3.0/Makefile.am	2018-03-27 17:35:24.829000000 +0900
@@ -41,6 +41,9 @@ EXTRA_DIST = \
 	cmake_config.h.in \
 	git-hash.sh
 
+pkgconfigdir = $(libdir)/pkgconfig
+pkgconfig_DATA = $(PACKAGE).pc
+
 ###############################################################################
 
 ## End of file.
--- origsrc/csmith-2.3.0/configure.ac	2017-06-22 05:50:24.000000000 +0900
+++ src/csmith-2.3.0/configure.ac	2018-03-27 17:35:06.072000000 +0900
@@ -88,13 +88,13 @@ fi
 # Some runtime headers are generated by `m4'.
 AC_CHECK_PROGS([M4], [m4 gm4], [m4])
 
-AC_OUTPUT(
+AC_OUTPUT([csmith.pc
   Makefile
   doc/Makefile
   runtime/Makefile
   scripts/Makefile
   src/Makefile
-)
+])
 
 ###############################################################################
 
--- origsrc/csmith-2.3.0/csmith.pc.in	1970-01-01 09:00:00.000000000 +0900
+++ src/csmith-2.3.0/csmith.pc.in	2018-03-27 17:36:03.011000000 +0900
@@ -0,0 +1,10 @@
+prefix=@prefix@
+exec_prefix=@exec_prefix@
+libdir=@libdir@
+includedir=@includedir@
+
+Name: csmith
+Description: Random C program generator
+Version: @VERSION@
+Libs: -L${libdir} -lcsmith
+Cflags: -I${includedir}/csmith
--- origsrc/csmith-2.3.0/runtime/Makefile.am	2017-06-22 05:50:24.000000000 +0900
+++ src/csmith-2.3.0/runtime/Makefile.am	2018-03-27 17:07:46.142999800 +0900
@@ -31,7 +31,6 @@
 
 .DELETE_ON_ERROR:
 
-lib_LIBRARIES = libcsmith.a
 libcsmith_a_SOURCES = \
 	volatile_runtime.c
 
@@ -44,12 +43,14 @@ lib_LTLIBRARIES = libcsmith.la
 libcsmith_la_SOURCES = \
 	$(libcsmith_a_SOURCES)
 
+libcsmith_la_LDFLAGS = -no-undefined
+
 libcsmith_a_CPPFLAGS =
 libcsmith_la_CPPFLAGS = \
 	$(libcsmith_a_CPPFLAGS)
 
 libcsmith_a_includedir = \
-	$(includedir)/$(PACKAGE)-$(VERSION)
+	$(includedir)/$(PACKAGE)
 nobase_libcsmith_a_include_HEADERS = \
 	csmith.h \
 	csmith_minimal.h \
