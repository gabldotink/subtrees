--- origsrc/sentencepiece-0.1.97/src/CMakeLists.txt	2022-08-06 20:41:00.000000000 +0900
+++ src/sentencepiece-0.1.97/src/CMakeLists.txt	2022-11-06 18:10:56.705292500 +0900
@@ -204,11 +204,13 @@ if (SPM_ENABLE_SHARED)
   add_library(sentencepiece_train SHARED ${SPM_TRAIN_SRCS})
 endif()
 
-add_library(sentencepiece-static STATIC ${SPM_SRCS})
-add_library(sentencepiece_train-static STATIC ${SPM_TRAIN_SRCS})
+if (NOT CYGWIN)
+  add_library(sentencepiece-static STATIC ${SPM_SRCS})
+  add_library(sentencepiece_train-static STATIC ${SPM_TRAIN_SRCS})
 
-target_link_libraries(sentencepiece-static INTERFACE ${SPM_LIBS})
-target_link_libraries(sentencepiece_train-static INTERFACE sentencepiece-static ${SPM_LIBS})
+  target_link_libraries(sentencepiece-static INTERFACE ${SPM_LIBS})
+  target_link_libraries(sentencepiece_train-static INTERFACE sentencepiece-static ${SPM_LIBS})
+endif()
 
 if (SPM_ENABLE_SHARED)
   target_link_libraries(sentencepiece ${SPM_LIBS})
@@ -220,7 +222,10 @@ if (SPM_ENABLE_SHARED)
       (${CMAKE_SYSTEM_PROCESSOR} STREQUAL "sh4"))
     list(APPEND SPM_LIBS "atomic")
   endif()
-  set(SPM_INSTALLTARGETS sentencepiece sentencepiece_train sentencepiece-static sentencepiece_train-static)
+  set(SPM_INSTALLTARGETS sentencepiece sentencepiece_train)
+  if (NOT CYGWIN)
+    set(SPM_INSTALLTARGETS ${SPM_INSTALLTARGETS} sentencepiece-static sentencepiece_train-static)
+  endif()
   set_target_properties(sentencepiece sentencepiece_train PROPERTIES SOVERSION 0 VERSION 0.0.0)
   set_target_properties(sentencepiece PROPERTIES WINDOWS_EXPORT_ALL_SYMBOLS YES)
   set_target_properties(sentencepiece_train PROPERTIES WINDOWS_EXPORT_ALL_SYMBOLS YES)
@@ -237,8 +242,10 @@ else()
   set(SPM_INSTALLTARGETS sentencepiece-static sentencepiece_train-static)
 endif()
 
-set_target_properties(sentencepiece-static PROPERTIES OUTPUT_NAME "sentencepiece")
-set_target_properties(sentencepiece_train-static PROPERTIES OUTPUT_NAME "sentencepiece_train")
+if (NOT CYGWIN)
+  set_target_properties(sentencepiece-static PROPERTIES OUTPUT_NAME "sentencepiece")
+  set_target_properties(sentencepiece_train-static PROPERTIES OUTPUT_NAME "sentencepiece_train")
+endif()
 
 if (NOT MSVC)
   if (SPM_COVERAGE)
