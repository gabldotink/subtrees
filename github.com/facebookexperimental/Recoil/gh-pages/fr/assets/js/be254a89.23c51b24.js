"use strict";(self.webpackChunkrecoil=self.webpackChunkrecoil||[]).push([[3949],{2298:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return h},default:function(){return N},frontMatter:function(){return g},metadata:function(){return v},toc:function(){return f}});var a=n(7462),r=n(3366),o=n(7294),l=n(3905),i=n(2804),u=(0,i.cn)({key:"textState",default:""}),c=(0,i.nZ)({key:"charCountState",get:function(e){return(0,e.get)(u).length}});function s(){return o.createElement("div",null,o.createElement(m,null),o.createElement(p,null))}function p(){var e=(0,i.sJ)(c);return o.createElement(o.Fragment,null,"Character Count: ",e)}function m(){var e=(0,i.FV)(u),t=e[0],n=e[1];return o.createElement("div",null,o.createElement("input",{type:"text",value:t,onChange:function(e){n(e.target.value)}}),o.createElement("br",null),"Echo: ",t)}var d=function(){return o.createElement(i.Wh,null,o.createElement(s,null))},k=["components"],g={title:"Commencer"},h=void 0,v={unversionedId:"introduction/getting-started",id:"introduction/getting-started",title:"Commencer",description:"Create React App",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/introduction/getting-started.mdx",sourceDirName:"introduction",slug:"/introduction/getting-started",permalink:"/fr/docs/introduction/getting-started",editUrl:"https://github.com/facebookexperimental/Recoil/edit/docs/docs/i18n/fr/docusaurus-plugin-content-docs/current/introduction/getting-started.mdx",tags:[],version:"current",frontMatter:{title:"Commencer"},sidebar:"docs",previous:{title:"Installation",permalink:"/fr/docs/introduction/installation"},next:{title:"Introduction",permalink:"/fr/docs/basic-tutorial/intro"}},f=[{value:"Create React App",id:"create-react-app",children:[],level:2},{value:"Installation",id:"installation",children:[],level:2},{value:"RecoilRoot",id:"recoilroot",children:[],level:2},{value:"Atome",id:"atome",children:[],level:2},{value:"S\xe9lecteur",id:"s\xe9lecteur",children:[],level:2},{value:"Demo",id:"demo",children:[],level:2}],C={toc:f};function N(e){var t=e.components,n=(0,r.Z)(e,k);return(0,l.kt)("wrapper",(0,a.Z)({},C,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"create-react-app"},"Create React App"),(0,l.kt)("p",null,"Recoil est une biblioth\xe8que de gestion d'\xe9tat pour React, vous devez donc avoir install\xe9 React pour utiliser Recoil. Le moyen le plus simple et recommand\xe9 pour d\xe9marrer une application React est d'utiliser ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/facebook/create-react-app#creating-an-app"},"Create React App"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx create-react-app my-app\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("a",{parentName:"p",href:"https://medium.com/@maybekatz/introducing-npx-an-npm-package-runner-55f7d4bd282b"},(0,l.kt)("inlineCode",{parentName:"a"},"npx"))," est un outil d'ex\xe9cution de paquets fourni avec npm 5.2+ et sup\xe9rieur, voir les instructions pour les anciennes versions de npm (",(0,l.kt)("a",{parentName:"p",href:"https://gist.github.com/gaearon/4064d3c23a77c74a3614c498a8bb1c5f"},"https://gist.github.com/gaearon/4064d3c23a77c74a3614c498a8bb1c5f"),").")),(0,l.kt)("p",null,"Pour plus de fa\xe7ons d'installer Create React App, consultez la ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/facebook/create-react-app#creating-an-app"},"documentation officielle"),"."),(0,l.kt)("h2",{id:"installation"},"Installation"),(0,l.kt)("p",null,"Le paquet Recoil est h\xe9berg\xe9 sur ",(0,l.kt)("a",{href:"https://www.npmjs.com/get-npm",target:"_blank"},"npm"),". Pour installer la derni\xe8re version stable, ex\xe9cutez la commande suivante:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npm install recoil\n")),(0,l.kt)("p",null,"Ou si vous utilisez ",(0,l.kt)("a",{href:"https://classic.yarnpkg.com/en/docs/install/",target:"_blank"},"yarn"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add recoil\n")),(0,l.kt)("h2",{id:"recoilroot"},"RecoilRoot"),(0,l.kt)("p",null,"Les composants qui utilisent l'\xe9tat recoil ont besoin que ",(0,l.kt)("inlineCode",{parentName:"p"},"RecoilRoot")," apparaisse quelque part dans l'arborescence parente. Un bon endroit pour mettre cela est dans votre composant racine:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport {\n  RecoilRoot,\n  atom,\n  selector,\n  useRecoilState,\n  useRecoilValue,\n} from 'recoil';\n\nfunction App() {\n  return (\n    <RecoilRoot>\n      <CharacterCounter />\n    </RecoilRoot>\n  );\n}\n")),(0,l.kt)("p",null,"Nous impl\xe9menterons le composant ",(0,l.kt)("inlineCode",{parentName:"p"},"CharacterCounter")," dans la section suivante."),(0,l.kt)("h2",{id:"atome"},"Atome"),(0,l.kt)("p",null,"Un ",(0,l.kt)("strong",{parentName:"p"},"atome")," repr\xe9sente un morceau d'",(0,l.kt)("strong",{parentName:"p"},"\xe9tat"),". Les atomes peuvent \xeatre lus et \xe9crits depuis n'importe quel composant. Les composants qui lisent la valeur d'un atome sont implicitement ",(0,l.kt)("strong",{parentName:"p"},"abonn\xe9s")," \xe0 cet atome, donc toute mise \xe0 jour d'atome entra\xeenera un nouveau rendu de tous les composants abonn\xe9s \xe0 cet atome:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"const textState = atom({\n  key: 'textState', // unique ID (with respect to other atoms/selectors)\n  default: '', // valeur par d\xe9faut (alias valeur initials)\n});\n")),(0,l.kt)("p",null,"Les composants qui doivent lire et \xe9crire sur un atome doivent utiliser ",(0,l.kt)("inlineCode",{parentName:"p"},"useRecoilState ()")," comme indiqu\xe9 ci-dessous:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},'function CharacterCounter() {\n  return (\n    <div>\n      <TextInput />\n      <CharacterCount />\n    </div>\n  );\n}\n\nfunction TextInput() {\n  const [text, setText] = useRecoilState(textState);\n\n  const onChange = (event) => {\n    setText(event.target.value);\n  };\n\n  return (\n    <div>\n      <input type="text" value={text} onChange={onChange} />\n      <br />\n      Echo: {text}\n    </div>\n  );\n}\n')),(0,l.kt)("h2",{id:"s\xe9lecteur"},"S\xe9lecteur"),(0,l.kt)("p",null,"Un ",(0,l.kt)("strong",{parentName:"p"},"s\xe9lecteur")," repr\xe9sente un morceau d'",(0,l.kt)("strong",{parentName:"p"},"\xe9tat d\xe9riv\xe9"),". L'\xe9tat d\xe9riv\xe9 est une ",(0,l.kt)("strong",{parentName:"p"},"transformation")," d'\xe9tat. Vous pouvez consid\xe9rer l'\xe9tat d\xe9riv\xe9 comme la sortie de l'\xe9tat passant \xe0 une fonction pure qui modifie l'\xe9tat donn\xe9 d'une mani\xe8re ou d'une autre:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"const charCountState = selector({\n  key: 'charCountState', // unique ID (with respect to other atoms/selectors)\n  get: ({get}) => {\n    const text = get(textState);\n\n    return text.length;\n  },\n});\n")),(0,l.kt)("p",null,"Nous pouvons utiliser le ",(0,l.kt)("em",{parentName:"p"},"hook")," ",(0,l.kt)("inlineCode",{parentName:"p"},"useRecoilValue()")," pour lire la valeur de ",(0,l.kt)("inlineCode",{parentName:"p"},"charCountState"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"function CharacterCount() {\n  const count = useRecoilValue(charCountState);\n\n  return <>Character Count: {count}</>;\n}\n")),(0,l.kt)("h2",{id:"demo"},"Demo"),(0,l.kt)("p",null,"Ci-dessous le produit fini:"),(0,l.kt)(d,{mdxType:"GettingStarted"}))}N.isMDXComponent=!0}}]);